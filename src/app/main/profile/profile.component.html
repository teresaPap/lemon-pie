<h2 class="page-header">My Profile</h2>

<div class="profile-page-container">
	<form [formGroup]="userDetailForm" (ngSubmit)="submitUserDetailForm()" class="form detail-form">
		<h3 class="form-title">User details</h3>
		<div class="form-group">
			<label class="form-group-label">Username</label>
			<input class="form-input" type="text" formControlName="username">
		</div>
		<div class="form-group">
			<label class="form-group-label">Email</label>
			<input class="form-input" type="email" formControlName="email">
		</div>
		<div class="form-group">
			<label class="form-group-label">Role</label>
			<input class="form-input" type="text" formControlName="role">
		</div>
		<div class="form-group">
			<label class="form-group-label">Active projects</label>
			<input class="form-input" type="number" formControlName="projectsCount" disabled>
		</div>
		<button type="submit" class="btn success-btn form-btn">Save</button>
	</form>

	<br><br>

	<form [formGroup]="changePasswordForm" (ngSubmit)="submitChangePasswordForm()" class="form detail-form">
		<h3 class="form-title">Change Password</h3>
		<div class="form-group">
			<label class="form-group-label">Old Password</label>
			<input class="form-input" type="password" formControlName="oldPassword">
			<p class="form-inline-error"
			   *ngIf="changePasswordForm.get('oldPassword').touched && changePasswordForm.get('oldPassword').errors">
				{{ changePasswordForm.get('oldPassword').errors.required ? 'Field is required.' : '' }}
			</p>
		</div>
		<div class="form-group">
			<label class="form-group-label">New Password</label>
			<input class="form-input" type="password" formControlName="password">
			<p class="form-inline-error"
			   *ngIf="changePasswordForm.get('password').touched && changePasswordForm.get('password').errors">
				{{ changePasswordForm.get('password').errors.minlength ? 'Password should be at least 6 characters.' : '' }}
				{{ changePasswordForm.get('password').errors.required ? 'Field is required.' : '' }}
			</p>
		</div>
		<div class="form-group">
			<label class="form-group-label">Confirm password</label>
			<input class="form-input" type="password" formControlName="confirmPassword">
			<p class="form-inline-error"
			   *ngIf="changePasswordForm.get('confirmPassword').touched && changePasswordForm.errors && changePasswordForm.errors.comparePasswords">
				Passwords don't match.
			</p>
		</div>
		<button type="submit" class="btn success-btn form-btn">Update Password</button>
	</form>

	<br><br>


	<form [formGroup]="deleteAccountForm" (ngSubmit)="submitDeleteAccountForm()" class="form detail-form">
		<h3 class="form-title">Delete account</h3>
		<div class="form-note">
			<p>Warning! This action is irreversible!</p>
			<p>Please type in "<strong>I want to delete my account</strong>" to confirm.</p>
		</div>
		<div class="form-group">
			<label class="form-group-label">Security quote</label>
			<input class="form-input" type="text" formControlName="confirmDelete">
			<p class="form-inline-error"
			   *ngIf="deleteAccountForm.get('confirmDelete').touched && deleteAccountForm.get('confirmDelete').errors">
				{{ deleteAccountForm.get('confirmDelete').errors.required ? 'Field is required.' : '' }}
			</p>
		</div>
		<button type="submit" class="btn success-btn form-btn">Delete my account</button>
	</form>
</div>
